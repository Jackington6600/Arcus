:root {
	/* Ethereal fantasy palette - Light Theme (Default) */
	--bg: #07090e; /* deep night - stays same for hero */
	--accent: #42e9ff; /* aurora aqua */
	--accent-2: #a889ff; /* amethyst */
	--gold: #e7cf8a; /* elegant highlight */
	--nav-height: 68px;
	--nav-padding: 16px;
	--layout-top-spacing: 24px;
	
	/* Theme-specific variables */
	--surface: #ffffff;
	--surface-secondary: #f7f8fb;
	--surface-tertiary: #f0f2f5;
	--text-primary: #11131a;
	--text-secondary: #4b4f59;
	--text-tertiary: #6b7280;
	--muted: #4b4f59;
	--border-light: #d6d8de;
	--border-medium: #e5e8ef;
	--shadow-light: rgba(0, 0, 0, 0.05);
	--shadow-medium: rgba(0, 0, 0, 0.08);
	--shadow-heavy: rgba(16, 22, 30, 0.12);
	--overlay-light: rgba(233, 237, 242, 0.95);
	--overlay-medium: rgba(233, 237, 242, 0.98);
}

/* Dark Theme */
[data-theme="dark"] {
	--surface: #1a1d26;
	--surface-secondary: #252830;
	--surface-tertiary: #2d313a;
	--text-primary: #e9edf2;
	--text-secondary: #b0b8c1;
	--text-tertiary: #8b929a;
	--muted: #b0b8c1;
	--border-light: #3a3f4a;
	--border-medium: #4a4f5a;
	--shadow-light: rgba(0, 0, 0, 0.2);
	--shadow-medium: rgba(0, 0, 0, 0.3);
	--shadow-heavy: rgba(0, 0, 0, 0.4);
	--overlay-light: rgba(26, 29, 38, 0.95);
	--overlay-medium: rgba(26, 29, 38, 0.98);
}

* {
	box-sizing: border-box;
}

/* Smooth theme transitions */
html {
	transition: background-color 0.3s ease, color 0.3s ease;
}

html * {
	transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

html, body, #root {
	height: 100%;
}

/* Body and scrolling behavior */
body {
	margin: 0;
	font-family: Spectral, Georgia, 'Times New Roman', serif;
	background: var(--surface-secondary);
	color: var(--text-primary);
	transition: background-color 0.3s ease, color 0.3s ease;
	overflow-x: hidden;
	overflow-y: auto;
	min-height: 100%;
}

/* Layout pages override scrolling behavior */
body.layout-page {
	overflow: hidden !important;
	position: fixed;
	width: 100%;
	height: 100%;
}

/* Non-layout pages can scroll normally */
body:not(.layout-page) {
	position: static;
	overflow: auto;
	height: auto;
	min-height: 100%;
}

/* Main content areas */
.main:not(.main--home) {
	min-height: 100vh;
	height: auto;
}

.main--home {
	background: var(--bg);
	overflow: auto;
	min-height: 100vh;
	height: auto;
	position: relative;
	z-index: 1;
}

/* Links */
a {
	color: inherit;
	text-decoration: none;
}

/* Container */
.container {
	width: min(1200px, 92%);
	margin: 0 auto;
}

/* Layout container overrides */
.layout.container {
	margin: 0;
	width: 100%;
	top: auto !important;
	position: static !important;
	display: grid !important;
	place-items: center !important;
	justify-content: center;
}

/* Navbar */
.navbar {
	position: sticky;
	top: 0;
	background: var(--overlay-light);
	backdrop-filter: blur(10px);
	border-bottom: 1px solid var(--border-light);
	z-index: 50;
	transition: all 0.3s ease;
	box-shadow: 0 1px 3px var(--shadow-light);
}

.navbar.scrolled {
	background: var(--overlay-medium);
	backdrop-filter: blur(15px);
	box-shadow: 0 4px 20px var(--shadow-medium);
}

.navbar-inner {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: var(--nav-padding) 0;
	gap: 20px;
}

/* Brand */
.brand {
	display: flex;
	align-items: center;
	gap: 10px;
	font-weight: 700;
	letter-spacing: 1px;
	font-size: 22px;
	color: var(--text-primary);
	font-family: Cinzel, serif;
	transition: color 0.2s ease;
	cursor: pointer;
	flex-shrink: 0;
}

.brand:hover {
	color: var(--accent-2);
}

.brand .name { 
	display: inline; 
}

/* Theme Toggle */
.theme-toggle {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 40px;
	height: 40px;
	background: transparent;
	border: 1px solid var(--border-light);
	border-radius: 8px;
	color: var(--text-primary);
	cursor: pointer;
	transition: all 0.2s ease;
	flex-shrink: 0;
}

.theme-toggle:hover {
	background: var(--shadow-light);
	border-color: var(--accent-2);
	color: var(--accent-2);
}

.theme-toggle svg {
	width: 20px;
	height: 20px;
}

/* Navigation Links */
.navlinks {
	display: flex;
	gap: 0;
	flex-wrap: nowrap;
	background: transparent;
	border: none;
	border-radius: 0;
	flex: 1;
	justify-content: center;
}

.navlink {
	padding: 16px 20px;
	color: var(--text-primary);
	border: none;
	position: relative;
	font-weight: 600;
	background: transparent;
	transition: color 0.2s ease;
	cursor: pointer;
	white-space: nowrap;
}

.navlink::after {
	content: '';
	position: absolute;
	left: 0;
	right: 0;
	bottom: 0;
	height: 3px;
	background: transparent;
	transform: scaleX(0);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.navlink:hover {
	background: transparent;
	color: var(--text-primary);
}

.navlink:hover::after {
	background: var(--muted);
	transform: scaleX(1);
}

.navlink.active {
	color: var(--accent-2);
	font-weight: 700;
}

.navlink.active::after {
	background: var(--accent-2);
	transform: scaleX(1);
}

/* Navbar Controls */
.navbar-controls {
	display: flex;
	align-items: center;
	gap: 12px;
	flex-shrink: 0;
	margin-left: auto;
}

/* Burger Menu */
.burger {
	display: none;
	background: transparent; 
	border: 1px solid var(--border-light); 
	border-radius: 8px; 
	padding: 9px 9px; 
	transition: all 0.2s ease;
	cursor: pointer;
	margin-left: auto;
	color: var(--text-primary);
}

.burger:hover {
	background: var(--shadow-light);
	border-color: var(--accent-2);
}

/* Mobile Title */
.nav-title {
	display: none;
	flex: 1; 
	justify-content: center; 
	font-weight: 800; 
	font-family: Cinzel, serif; 
	font-size: 22px; 
	color: var(--text-primary); 
	text-align: center;
}

/* Responsive Breakpoints */
@media (max-width: 1100px) {
	.navlinks {
		display: none;
	}
	
	.burger {
		display: flex;
	}
	
	.nav-title {
		display: flex;
	}
	
	.brand .name {
		display: none;
	}
	
	.navbar-inner {
		justify-content: space-between;
		gap: 16px;
	}
	
	.navbar-controls {
		margin-left: auto;
		order: 3;
	}
}

/* Hide TOC on small screens */
@media (max-width: 1100px) {
	.toc { 
		display: none; 
	}
}

/* Mobile Menu */
.mobile-menu {
	position: fixed;
	inset: 0 0 0 0;
	top: calc(var(--nav-height) + var(--layout-top-spacing));
	bottom: 0;
	transform: translateY(-8px);
	opacity: 0;
	pointer-events: none;
	transition: opacity .25s ease, transform .25s ease;
	background: transparent;
	z-index: 60;
}

.mobile-menu.open {
	opacity: 1;
	transform: translateY(0);
	pointer-events: auto;
}

.mobile-menu .menu-inner {
	display: flex;
	flex-direction: column;
	gap: 6px;
	padding: 12px 0 16px;
	background: var(--surface);
	border: 1px solid var(--border-light);
	border-radius: 12px;
	box-shadow: 0 10px 30px var(--shadow-heavy);
	margin: 8px auto 16px;
	max-height: calc(100dvh - var(--nav-height) - var(--layout-top-spacing) - 24px);
	overflow: auto;
}

.mobile-menu .m-link { 
	padding: 10px 12px; 
	border-radius: 8px; 
	color: var(--text-primary); 
	background: transparent;
	border: none;
	cursor: pointer;
	font-weight: 600;
	transition: color 0.2s ease;
	position: relative;
}

.mobile-menu .m-link::after {
	content: '';
	position: absolute;
	left: 0;
	right: 0;
	bottom: 0;
	height: 2px;
	background: transparent;
	transform: scaleX(0);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.mobile-menu .m-link:hover {
	background: transparent;
	color: var(--text-primary);
}

.mobile-menu .m-link:hover::after {
	background: var(--muted);
	transform: scaleX(1);
}

.mobile-menu .m-link.active {
	color: var(--accent-2);
	font-weight: 700;
}

.mobile-menu .m-link.active::after {
	background: var(--accent-2);
	transform: scaleX(1);
}

/* TOC Toggle */
.toc-toggle {
	display: none;
	align-items: center;
	gap: 10px;
	background: var(--surface);
	border: 1px solid var(--border-light);
	border-radius: 10px;
	padding: 12px 14px;
	font-weight: 600;
	font-size: 20px;
	color: var(--text-primary);
	box-shadow: 0 3px 12px var(--shadow-light);
	width: auto !important;
	min-width: fit-content;
}

.toc-toggle svg { 
	width: 18px; 
	height: 18px; 
}

/* Page Menu */
.page-menu {
	position: fixed;
	inset: 0 0 0 0;
	top: calc(var(--nav-height) + var(--layout-top-spacing));
	bottom: 0;
	transform: translateY(-8px);
	opacity: 0;
	pointer-events: none;
	transition: opacity .25s ease, transform .25s ease;
	background: linear-gradient(180deg, var(--overlay-medium), var(--overlay-light));
	border-bottom: 1px solid var(--border-light);
	z-index: 100;
	overflow: auto;
	display: flex;
	flex-direction: column;
}

.page-menu.open {
	opacity: 1;
	transform: translateY(0);
	pointer-events: auto;
}

.page-menu .menu-inner {
	width: min(1200px, 92%);
	margin: 0 auto;
	display: flex;
	flex-direction: column;
	gap: 10px;
	padding: 12px 0 16px;
}

.page-menu .searchbar {
	position: sticky;
	top: 0;
	background: linear-gradient(180deg, var(--overlay-medium), var(--overlay-light));
	padding: 8px 0;
	z-index: 10;
	width: 100%;
	box-sizing: border-box;
}

.page-menu .accordion-header {
	padding: 16px 14px;
	width: 100%;
	box-sizing: border-box;
}

.page-menu .accordion-header span[aria-hidden] {
	font-size: 24px;
	line-height: 1;
}

/* Mobile TOC Toggle */
@media (max-width: 1100px) {
	.toc-toggle {
		display: flex;
		position: fixed;
		right: 16px;
		bottom: 24px;
		z-index: 70;
		max-width: 86vw;
		width: auto !important;
		min-width: fit-content;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
	
	.mobile-menu {
		top: calc(var(--nav-height) + 12px);
	}
	
	.page-menu {
		top: calc(var(--nav-height) + 12px);
	}
}

/* Hero Section */
.hero {
	min-height: calc(100dvh - var(--nav-height) - var(--layout-top-spacing));
	height: calc(100dvh - var(--nav-height) - var(--layout-top-spacing));
	position: relative;
	display: grid;
	place-items: center;
	color: #f7f7fb;
	z-index: 1;
}

.hero > .container {
	display: grid;
	place-items: center;
	height: 100%;
}

.hero-card {
	text-align: center;
	background: transparent;
	border: 0;
	border-radius: 18px;
	padding: 32px;
	box-shadow: none;
	max-width: 1100px;
}

.hero-title {
	font-family: Cinzel, serif;
	font-size: clamp(46px, 8vw, 96px);
	line-height: 1.02;
	margin: 0 0 18px;
	font-weight: 900;
	text-transform: uppercase;
	letter-spacing: 1.4px;
	text-shadow: 0 2px 20px rgba(66,233,255,0.12), 0 2px 28px rgba(168,137,255,0.12);
}

.hero-subtitle {
	color: #f4f6ff;
	opacity: 0.92;
	font-style: italic;
	font-size: clamp(18px, 2.4vw, 22px);
	margin: 0 0 26px;
}

.cta {
	display: inline-flex;
	align-items: center;
	gap: 10px;
	background: linear-gradient(90deg, #42e9ff, #a889ff);
	color: #000;
	font-weight: 800;
	letter-spacing: 0.4px;
	border: 0;
	padding: 14px 18px;
	border-radius: 12px;
	cursor: pointer;
	box-shadow: 0 6px 20px rgba(66,233,255,0.25);
}

/* Enter Animations */
.enter { 
	opacity: 0; 
	transform: translateY(14px) scale(0.98); 
	animation: fadeUp .8s ease forwards; 
}

.enter-1 { animation-delay: .05s; }
.enter-2 { animation-delay: .18s; }
.enter-3 { animation-delay: .3s; }

@keyframes fadeUp {
	from { opacity: 0; transform: translateY(14px) scale(0.98); }
	to { opacity: 1; transform: translateY(0) scale(1); }
}

/* Layout for content pages */
.layout {
	position: fixed !important;
	top: calc(var(--nav-height) + var(--layout-top-spacing)) !important;
	left: 0;
	right: 0;
	bottom: 0;
	display: grid;
	place-items: center;
	overflow: hidden;
	z-index: 1;
	height: calc(100vh - var(--nav-height) - var(--layout-top-spacing));
	box-sizing: border-box;
	padding: 16px;
	gap: 16px;
}

@media (max-width: 1100px) {
	.layout {
		place-items: stretch;
		top: calc(var(--nav-height) + 12px) !important;
		height: auto;
		min-height: calc(100vh - var(--nav-height) - 12px);
		overflow: visible;
		padding: 16px;
		gap: 16px;
	}
	
	.layout > div {
		display: grid;
		grid-template-columns: 1fr;
		width: 100%;
		max-width: none;
		justify-self: stretch;
	}
	
	.layout .toc {
		display: none;
	}
	
	.layout .doc {
		grid-column: 1;
		width: 100%;
		height: auto;
		min-height: 0;
		overflow: auto;
		max-height: calc(100vh - var(--nav-height) - 40px);
	}
	
	.layout #wiki-article {
		overflow: auto;
		height: auto;
		min-height: 0;
	}
}

/* TOC Sidebar */
.toc {
	position: relative;
	height: 100%;
	overflow: auto;
	border: 1px solid var(--border-medium);
	border-radius: 12px;
	padding: 16px;
	background: var(--surface);
	box-shadow: 0 4px 16px var(--shadow-light);
	min-height: 0;
	max-height: 100%;
	grid-column: 1;
	grid-row: 1;
	width: 280px;
	min-width: 280px;
	max-width: 280px;
	box-sizing: border-box;
}

.toc h4 {
	margin: 8px 8px 6px;
	color: var(--text-secondary);
}

.toc a {
	display: block;
	padding: 8px 10px;
	border-radius: 8px;
	color: var(--text-primary);
	transition: all 0.2s ease;
}

.toc a.active {
	background: rgba(62,224,255,0.12);
	color: var(--text-primary);
	font-weight: 600;
}

.toc a.parent-active {
	background: rgba(62,224,255,0.06);
	color: var(--text-primary);
	font-weight: 500;
}

.toc a.grandparent-active {
	background: rgba(62,224,255,0.03);
	color: var(--text-primary);
	font-weight: 400;
}

.toc a.pulse {
	animation: pulseLink .65s ease;
}

@keyframes pulseLink {
	0% { background: rgba(62,224,255,0.35); }
	100% { background: rgba(62,224,255,0.12); }
}

/* Wiki Accordion TOC */
.wiki-toc {
	display: flex;
	flex-direction: column;
	gap: 4px;
}

.toc-section {
	border: 1px solid var(--border-light);
	border-radius: 8px;
	overflow: hidden;
}

.toc-section-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 10px 12px;
	background: var(--surface-secondary);
	border: none;
	cursor: pointer;
	transition: background-color 0.2s ease;
	font-weight: 500;
	color: var(--text-primary);
}

.toc-section-header:hover {
	background: var(--surface-tertiary);
}

.toc-section-header.expanded {
	background: var(--surface-tertiary);
	color: var(--text-primary);
}

.toc-section-header.active {
	background: rgba(62,224,255,0.08);
	color: var(--text-primary);
	font-weight: 600;
}

.toc-section-header.parent-active {
	background: rgba(62,224,255,0.04);
	color: var(--text-primary);
	font-weight: 500;
}

.toc-section-header.grandparent-active {
	background: rgba(62,224,255,0.02);
	color: var(--text-primary);
	font-weight: 400;
}

.toc-section-title {
	font-weight: 600;
}

.toc-section-toggle {
	font-size: 18px;
	font-weight: bold;
	line-height: 1;
}

.toc-section-content {
	background: var(--surface);
	border-top: 1px solid var(--border-light);
	padding: 8px 0;
}

.toc-section-content a {
	margin: 0 8px 4px;
	padding: 6px 8px;
	border-radius: 6px;
	font-size: 14px;
	transition: all 0.2s ease;
	display: flex;
}

.toc-section-content a:hover {
	background: var(--surface-secondary);
	color: var(--text-primary);
}

.toc-section-content a.active {
	background: rgba(62,224,255,0.12);
	color: var(--text-primary);
	font-weight: 600;
}

.toc-section-content a.parent-active {
	background: rgba(62,224,255,0.06);
	color: var(--text-primary);
	font-weight: 500;
}

.toc-section-content a.grandparent-active {
	background: rgba(62,224,255,0.03);
	color: var(--text-primary);
	font-weight: 400;
}

/* Wiki Links in Content */
.doc a[href^="#"] {
	color: var(--accent-2);
	text-decoration: underline;
	cursor: pointer;
	transition: color 0.2s ease;
}

.doc a[href^="#"]:hover {
	color: var(--accent);
	text-decoration: underline;
}

/* Document Content */
.doc {
	border: 1px solid var(--border-medium);
	border-radius: 12px;
	background: var(--surface);
	padding: 32px;
	box-shadow: 0 6px 24px var(--shadow-light);
	height: 100%;
	overflow: auto;
	min-height: 0;
	max-height: 100%;
	width: 800px;
	max-width: 800px;
	grid-column: 2;
	grid-row: 1;
}

@media (max-width: 1100px) {
	.doc {
		padding: 32px;
		width: 100%;
		max-width: 100%;
	}
	
	.doc > div {
		margin-bottom: 0;
	}
	
	.doc > div:last-child {
		margin-bottom: 0;
	}
	
	.class-table {
		padding: 0;
		overflow: visible;
	}
	
	.class-table table {
		overflow: visible;
	}
}

/* Ornament */
.ornament {
	position: relative;
}

.ornament::before {
	content: '';
	position: absolute;
	left: 0; 
	right: 0; 
	top: -6px;
	margin: 0 auto;
	width: 120px; 
	height: 2px;
	background: linear-gradient(90deg, transparent, var(--gold), transparent);
}

/* Document Headings */
.doc h2, .doc h3, .doc h4 {
	scroll-margin-top: 90px;
	color: var(--text-primary);
}

/* Document Text Elements */
.doc p,
.doc li,
.doc div {
	color: var(--text-primary);
}

/* Tooltip spans should inherit color from parent */
.doc .tooltip {
	color: inherit;
}

/* Force paragraphs to maintain their color regardless of content */
.doc p {
	color: var(--text-secondary) !important;
	padding-left: 20px;
}

/* Document Tables */
.doc table,
.doc table th,
.doc table td {
	color: var(--text-primary);
	border-color: var(--border-light);
}

/* Ensure tables are responsive and don't create scrollbars */
.doc table {
	width: 100%;
	max-width: 100%;
	table-layout: auto;
	overflow: visible;
}

.doc table th,
.doc table td {
	word-wrap: break-word;
	overflow-wrap: break-word;
}

/* Class Table Component - styled like doc but without overflow properties */
.class-table {
	border: 1px solid var(--border-medium);
	border-radius: 12px;
	background: var(--surface);
	padding: 0;
	box-shadow: 0 6px 24px var(--shadow-light);
	width: 100%;
	max-width: 100%;
	overflow: visible;
}

.class-table table {
	width: 100%;
	max-width: 100%;
	table-layout: auto;
	overflow: visible;
}

.class-table table th,
.class-table table td {
	word-wrap: break-word;
	overflow-wrap: break-word;
	color: var(--text-primary);
	border-color: var(--border-light);
}

/* Responsive ClassTable - horizontal scrolling on mobile */
@media (max-width: 700px) {
	.class-table {
		overflow-x: auto;
		overflow-y: visible;
		/* Add subtle scroll indicators */
		background: 
			linear-gradient(90deg, var(--surface) 0%, transparent 5%),
			linear-gradient(90deg, transparent 95%, var(--surface) 100%);
		background-size: 20px 100%;
		background-repeat: no-repeat;
		background-position: left center, right center;
	}
	
	.class-table table {
		min-width: 600px; /* Ensure table never gets narrower than this */
		width: 600px; /* Force exact width to prevent layout shifts */
	}

	
	/* Add scroll hint text for mobile users */
	.class-table::before {
		content: '← Scroll horizontally to see all columns →';
		display: block;
		text-align: center;
		padding: 8px 12px;
		font-size: 12px;
		color: var(--muted);
		background: var(--surface-secondary);
		border-bottom: 1px solid var(--border-light);
		font-style: italic;
	}
}

/* Search Bar */
.searchbar {
	display: flex;
	gap: 10px;
	margin-bottom: 14px;
	position: sticky;
	top: 0;
	background: var(--surface);
	padding: 8px 0;
	z-index: 10;
	position: relative;
}

.searchbar .search-clear {
	position: absolute;
	right: 8px;
	top: 50%;
	transform: translateY(-50%);
	background: var(--surface-secondary);
	border: 1px solid var(--border-medium);
	color: var(--text-secondary);
	border-radius: 50%;
	width: 24px;
	height: 24px;
	cursor: pointer;
	font-size: 16px;
	font-weight: bold;
	line-height: 1;
	transition: all 0.2s ease;
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 2;
}

.searchbar .search-clear:hover {
	background: var(--surface-tertiary);
	color: var(--text-primary);
	border-color: var(--border-light);
}

.searchbar .search-clear:active {
	transform: translateY(-50%) scale(0.95);
}

.input {
	flex: 1;
	background: var(--surface);
	border: 1px solid var(--border-medium);
	color: var(--text-primary);
	border-radius: 10px;
	padding: 10px 12px;
	padding-right: 40px;
	box-shadow: 0 3px 12px var(--shadow-light) inset, 0 1px 0 var(--surface);
}

/* Accordion */
.accordion {
	display: grid;
	gap: 10px;
}

.accordion-item {
	border: 1px solid var(--border-medium);
	border-radius: 10px;
	background: var(--surface);
	box-shadow: 0 4px 16px var(--shadow-light);
}

.accordion-header {
	display: flex;
	justify-content: space-between;
	padding: 12px 14px;
	cursor: pointer;
}

.accordion-content {
	padding: 0 14px 14px;
}

/* Tags */
.tag {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	padding: 2px 8px;
	border-radius: 999px;
	background: var(--shadow-light);
	color: var(--text-secondary);
	font-size: 12px;
}

/* Tooltips */
.tooltip {
	position: relative;
	color: inherit;
	/* Improve touch experience on mobile */
	-webkit-tap-highlight-color: transparent;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	user-select: none;
}

.tooltip-bubble {
	position: fixed;
	min-width: 220px;
	max-width: 320px;
	background: var(--surface);
	border: 1px solid var(--border-light);
	border-radius: 10px;
	padding: 10px 12px;
	box-shadow: 0 10px 30px var(--shadow-heavy);
	z-index: 100;
	color: var(--text-primary);
	pointer-events: none;
	user-select: none;
}

.tooltip-bubble-fixed {
	animation-duration: .18s;
	animation-fill-mode: both;
	will-change: transform, opacity;
}

@keyframes tooltipEnterUp {
	from { opacity: 0; transform: translateY(6px) scale(0.98); }
	to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes tooltipEnterDown {
	from { opacity: 0; transform: translateY(-6px) scale(0.98); }
	to { opacity: 1; transform: translateY(0) scale(1); }
}

.tooltip-in-up { animation-name: tooltipEnterUp; }
.tooltip-in-down { animation-name: tooltipEnterDown; }

.hint {
	border-bottom: 1px dashed var(--text-secondary);
	cursor: help;
	color: var(--text-primary);
}

.tooltip-bubble strong { 
	color: var(--text-primary); 
}

.tooltip-desc { 
	color: var(--text-secondary); 
}

/* Mobile-specific tooltip improvements */
@media (max-width: 768px) {
	.tooltip {
		/* Ensure tooltips are easily tappable on mobile */
		cursor: pointer;
	}
	
	.hint {
		/* Increase touch target size on mobile without breaking layout */
		padding: 4px 0;
		/* Use pseudo-element to extend touch area without affecting visual layout */
		position: relative;
	}
	
	.hint::before {
		content: '';
		position: absolute;
		top: -4px;
		bottom: -4px;
		left: -4px;
		right: -4px;
		/* This creates a larger touch target without visual changes */
	}
	
	.tooltip-bubble {
		/* Ensure tooltip bubble is properly sized for mobile */
		max-width: calc(100vw - 32px);
		min-width: 200px;
	}
}

/* Scroll Reveal */
.reveal { 
	opacity: 0; 
	transform: translateY(16px); 
	transition: opacity .6s ease, transform .6s ease; 
}

.reveal.visible { 
	opacity: 1; 
	transform: translateY(0); 
}

/* Layout Document Styling */
.layout .doc {
	height: 100%;
	overflow: auto;
}

/* Wiki page specific styling - override layout width constraints */
.layout.container .doc {
	width: 800px !important;
	max-width: 800px !important;
	justify-self: center;
}

.layout > * {
	min-height: 0;
	max-height: 100%;
	width: 100%;
}

/* Override width for toc-toggle button */
.layout > .toc-toggle {
	width: auto !important;
}

.layout > div {
	width: 100%;
}

/* Mobile Layout Adjustments */
@media (max-width: 1100px) {
	body.layout-page {
		overflow: hidden !important;
		position: fixed;
		width: 100%;
		height: 100%;
	}
	
	body.layout-page .layout {
		position: relative;
		overflow: visible !important;
	}
	
	/* Wiki page mobile responsive */
	.layout.container .doc {
		width: 100% !important;
		max-width: 100% !important;
	}
}

/* Home Page Background */
.home-background {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: -1;
	overflow: hidden;
}

.background-image {
	width: 100%;
	height: 100%;
	object-fit: cover;
	object-position: center;
	filter: brightness(0.7);
}

.home-background::after {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(
		to bottom,
		rgba(7, 9, 14, 0.1) 0%,
		rgba(7, 9, 14, 0.2) 40%,
		rgba(7, 9, 14, 0.4) 70%,
		rgba(7, 9, 14, 0.7) 85%,
		rgba(7, 9, 14, 0.95) 100%
	);
	pointer-events: none;
}

.main--home .doc p {
	color: var(--muted);
}


/* Disclaimer Component */
.disclaimer {
	position: fixed;
	bottom: 20px;
	left: 20px;
	background: rgba(139, 0, 0, 0.9);
	color: #ffffff;
	padding: 12px 16px;
	border-radius: 8px;
	font-size: 14px;
	font-weight: 500;
	line-height: 1.4;
	z-index: 1000;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
	display: flex;
	align-items: center;
	gap: 10px;
	max-width: 300px;
	transition: opacity 0.3s ease, transform 0.3s ease;
}

.disclaimer.closing {
	opacity: 0;
	transform: translateY(10px);
}

.disclaimer-icon {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 20px;
	height: 20px;
	background: rgba(255, 255, 255, 0.2);
	border-radius: 50%;
	flex-shrink: 0;
}

.disclaimer-icon::before {
	content: '!';
	font-weight: bold;
	font-size: 14px;
	color: #ffffff;
}

.disclaimer-text {
	flex: 1;
}

.disclaimer-close {
	background: none !important;
	border: none !important;
	color: rgba(255, 255, 255, 0.7) !important;
	cursor: pointer;
	padding: 4px;
	border-radius: 4px;
	transition: color 0.2s ease, background-color 0.2s ease;
	flex-shrink: 0;
}

.disclaimer-close:hover {
	color: #ffffff !important;
	background-color: rgba(255, 255, 255, 0.1) !important;
}

.disclaimer-close::before {
	content: '×';
	font-size: 18px;
	font-weight: bold;
	line-height: 1;
}

@media (max-width: 768px) {
	.disclaimer {
		bottom: 15px;
		left: 15px;
		right: 15px;
		max-width: none;
		font-size: 13px;
		padding: 10px 14px;
	}
}

/* Home page content section - specific centering for bottom content */
.home-content-section {
	display: grid;
	gap: 18px;
	max-width: 1400px;
	margin: 0 auto;
	width: 100%;
	/* Ensure proper centering */
	justify-items: center;
}

/* Container for home content with proper spacing - OVERRIDE container constraints */
.home-content-container {
	padding: 56px 0 96px;
	width: 100% !important;
	max-width: none !important;
	/* Override the container class constraints */
}

/* Override container class specifically for home content */
.container.home-content-container {
	width: 100% !important;
	max-width: none !important;
	margin: 0 auto !important;
}

/* Content grid wrapper for proper centering */
.home-content-grid {
	display: grid;
	gap: 18px;
	max-width: 1400px;
	margin: 0 auto;
	width: 100%;
	/* Ensure content is centered */
	justify-items: center;
	/* Override any layout system interference */
	grid-template-columns: 1fr;
	grid-template-rows: auto;
	/* Ensure consistent column sizing */
	grid-auto-columns: 1fr;
}

/* Override any layout system interference for home content */
.home-content-container,
.home-content-grid,
.home-content-section {
	/* Ensure these are not affected by layout system */
	position: relative !important;
	top: auto !important;
	left: auto !important;
	right: auto !important;
	bottom: auto !important;
	z-index: auto !important;
}

/* Style the content blocks within the home section */
.home-content-section .doc,
.home-content-grid .doc {
	padding: 22px;
	text-align: center;
	width: 100%;
	max-width: 800px;
	/* Ensure blocks are centered */
	margin: 0 auto;
	/* Override grid positioning that interferes with centering */
	grid-column: unset !important;
	grid-row: unset !important;
	height: auto !important;
	overflow: visible !important;
	min-height: unset !important;
	max-height: unset !important;
	/* Ensure consistent sizing */
	min-width: 0;
	box-sizing: border-box;
}

/* Ensure all content blocks have exactly the same width */
.home-content-grid > * {
	width: 100%;
	max-width: 800px;
	justify-self: center;
}

/* Ensure reveal wrapper doesn't affect sizing */
.home-content-grid .reveal {
	width: 100%;
	max-width: 800px;
	justify-self: center;
}

/* Responsive adjustments for home content section */
@media (max-width: 1440px) {
	.home-content-grid {
		max-width: 1200px;
	}
}

@media (max-width: 1200px) {
	.home-content-grid {
		max-width: 100%;
		padding: 0 20px;
	}
}

@media (max-width: 768px) {
	.home-content-section .doc,
	.home-content-grid .doc {
		padding: 18px;
	}
}






