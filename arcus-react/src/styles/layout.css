/* Layout and Grid Styles */
.layout {
	position: fixed !important;
	top: calc(var(--nav-height) + var(--layout-top-spacing)) !important;
	left: 0;
	right: 0;
	bottom: 0;
	display: grid;
	place-items: center;
	overflow: hidden;
	z-index: 1;
	height: calc(100vh - var(--nav-height) - var(--layout-top-spacing));
	box-sizing: border-box;
	padding: 16px;
	gap: 16px;
}

/* Layout container overrides */
.layout.container {
	margin: 0;
	width: 100%;
	top: auto !important;
	position: static !important;
	display: grid !important;
	place-items: center !important;
	justify-content: center;
}

@media (max-width: 1100px) {
	.layout {
		place-items: stretch;
		top: calc(var(--nav-height) + 12px) !important;
		height: auto;
		min-height: calc(100vh - var(--nav-height) - 12px);
		overflow: visible;
		padding: 16px;
		gap: 16px;
	}
	
	.layout > div {
		display: grid;
		grid-template-columns: 1fr;
		width: 100%;
		max-width: none;
		justify-self: stretch;
	}
	
	.layout .toc {
		display: none !important;
	}
	
	.layout .doc {
		grid-column: 1;
		width: 100%;
		height: auto;
		min-height: 0;
		overflow: auto;
		max-height: calc(100vh - var(--nav-height) - 40px);
	}
	
	.layout #wiki-article {
		overflow: auto;
		height: auto;
		min-height: 0;
	}
}

/* Layout Document Styling */
.layout .doc {
	height: 100%;
	overflow: auto;
}

/* Wiki page specific styling - override layout width constraints */
.layout.container .doc {
	width: 800px !important;
	max-width: 800px !important;
	justify-self: center;
}

.layout > * {
	min-height: 0;
	max-height: 100%;
	width: 100%;
}

/* Override width for toc-toggle button */
.layout > .toc-toggle {
	width: auto !important;
}

.layout > div {
	width: 100%;
}

/* Mobile Layout Adjustments */
@media (max-width: 1100px) {
	body.layout-page {
		overflow: hidden !important;
		position: fixed;
		width: 100%;
		height: 100%;
	}
	
	body.layout-page .layout {
		position: relative;
		overflow: visible !important;
	}
	
	/* Wiki page mobile responsive */
	.layout.container .doc {
		width: 100% !important;
		max-width: 100% !important;
	}
}
